{% extends "HRMS/base.html" %}
{% block content %}
    <article class="media content-section">
        <div class="media-body">
            <div class="media">
                <img class="rounded-circle account-img" src="{{ employee.image.url }}">
            </div>
            <div class="article-metadata">
                <h3 class="mr-2">Персональная информация:</h3>
                <p class="mr-2"><b>Имя:</b>  {{ object.first_name }}</p>
                <p class="mr-2"><b>Фамилия:</b>   {{ object.last_name }}</p>
                <p class="mr-2"><b>Пол:</b>      {{ object.gender }}</p>
                <p class="mr-2"><b>Дата рождения:</b> {{ object.birthday|date:"F d, Y" }}</p>
                {% if object.position == None %}
                    <p class="mr-2"><b>Должность:</b> Не назначен</p>
                {% else %}
                    <p class="mr-2"><b>Должность:</b>    {{ object.position }}</p>
                {% endif %}
            </div>
            <div class="article-metadata">
                <h3 class="mr-2">Образование:</h3>
                {% for education in object.education_set.all %}
                    <div class="article-metadata">
                        {% if education.education_type == 0 %}
                            <p class="mr-2"><b>Тип образования:</b> Без образования</p>
                        {% endif %}
                        {% if education.education_type == 1 %}
                            <p class="mr-2"><b>Тип образования:</b> Среднее образование</p>
                        {% endif %}
                        {% if education.education_type == 2 %}
                            <p class="mr-2"><b>Тип образования:</b> Высшее образование</p>
                        {% endif %}
                        <p class="mr-2"><b>Учебное заведение:</b>   {{ education.institution_name }}</p>
                        <p class="mr-2"><b>Факультет:</b>            {{ education.faculty }}</p>
                        <p class="mr-2"><b>Специальность:</b>         {{ education.specialty }}</p>
                        <p class="mr-2"><b>Дата поступления:</b>     {{ education.beginning_date|date:"F d, Y" }}</p>
                        <p class="mr-2"><b>Дата окончания:</b>    {{ education.expiration_date|date:"F d, Y" }}</p>
                    </div>
                {% endfor %}
            </div>
            <div class="article-metadata">
                <h3 class="mr-2">Опыт работы:</h3>
                {% for experience in object.experience_set.all %}
                    <div class="article-metadata">
                        <p class="mr-2"><b>Компания:</b>             {{ experience.job }}</p>
                        <p class="mr-2"><b>Дата начала работы:</b>       {{ experience.beginning_date }}</p>
                        <p class="mr-2"><b>Дата окончания:</b>      {{ experience.expiration_date }}</p>
                        <p class="mr-2"><b>Должность:</b>:            {{ experience.position }}</p>
                    </div>
                {% endfor %}
            </div>
            <div class="article-metadata">
                <h3 class="mr-2">Задачи:</h3>
                {% for task in object.task_set.all %}
                <div class="article-metadata">
                    <p class="mr-2"><b>Кад задачи:</b>       {{ task.code }}</p>
                    <p class="mr-2"><b>Описание:</b>     {{ task.description }}</p>
                    <p class="mr-2"><b>Дата начала:</b>  {{ task.beginning_date|date:"F d, Y" }}</p>
                    <p class="mr-2"><b>Крайний срок окончания:</b>       {{ task.deadline|date:"F d, Y" }}</p>
                    <p class="mr-2"><b>Дата фактического окончания:</b>  {{ task.actual_expiration_date|date:"F d, Y" }}</p>
                </div>
                {% endfor %}
            </div>
            <div class="article-metadata">
                <h3 class="mr-2">Иностранные языки:</h3>
                {% for foreignlanguage in object.foreignlanguage_set.all %}
                <div class="article-metadata">
                    {% if foreignlanguage.language_name == 'Нет' %}
                        <p class="mr-2"><b>Знание языка:</b>              {{ foreignlanguage.language_name }}</p>
                    {% else %}
                        <p class="mr-2"><b>Знание языка:</b>              {{ foreignlanguage.language_name }}</p>
                    {% endif %}
                    {% if foreignlanguage.level == 1 %}
                        <p class="mr-2"><b>Уровень знания языка:</b> A1</p>
                    {% endif %}
                    {% if foreignlanguage.level == 2 %}
                        <p class="mr-2"><b>Уровень знания языка:</b> A2</p>
                    {% endif %}
                    {% if foreignlanguage.level == 3 %}
                        <p class="mr-2"><b>Уровень знания языка:</b> B1</p>
                    {% endif %}
                    {% if foreignlanguage.level == 4 %}
                        <p class="mr-2"><b>Уровень знания языка:</b> B2</p>
                    {% endif %}
                    {% if foreignlanguage.level == 5 %}
                        <p class="mr-2"><b>Уровень знания языка:</b> C1</p>
                    {% endif %}
                    {% if foreignlanguage.level == 6 %}
                        <p class="mr-2"><b>Уровень знания языка:</b> C2</p>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            <div class="article-metadata">
                <h3 class="mr-2">Личность:</h3>
                <p class="mr-2">Степень выраженности 1 до 7</p>
                <p class="mr-2">1 - выраженное левое значение, 7 - выраженное правое значение</p>
                <div class="article-metadata">
                    {% if object.sociability != None %}
                        <p class="mr-2"><b>Замкнутость - общительность:</b> {{ object.sociability }}</p>
                    {% endif %}
                    {% if object.smart != None %}
                        <p class="mr-2"><b>Менее сообразительный - более сообразительный:</b> {{ object.smart }}</p>
                    {% endif %}
                    {% if object.emotionality != None %}
                        <p class="mr-2"><b>Эмоционально устойчивый - эмоциональный:</b> {{ object.emotionality }}</p>
                    {% endif %}
                    {% if object.self_centeredness != None %}
                    <p class="mr-2"><b>Ориентированный на команду - ориентированный на себя:</b>  {{ object.self_centeredness }}</p>
                    {% endif %}
                    {% if object.tension != None %}
                        <p class="mr-2"><b>Раскованный - напряженный:</b> {{ object.tension }}</p>
                    {% endif %}
                </div>
            </div>
            <div class="article-metadata">
                <h3 class="mr-2">Внешний облик:</h3>
                <p class="mr-2">Степень выраженности 1 до 7</p>
                <p class="mr-2">1 - выраженное левое значение, 7 - выраженное правое значение</p>
                <div class="article-metadata">
                    {% if object.attractiveness != None %}
                        <p class="mr-2"><b>Менее привлекательный - более привлекательный:</b> {{ object.attractiveness }}</p>
                    {% endif %}
                </div>
            </div>
            <form method="GET">
                <a class="btn btn-outline-info mt-1 mb-1" type="submit" href="{% url 'employee-update' employee.id %}">Персональные данные</a>
                <a class="btn btn-outline-info mt-1 mb-1 ml-2" type="submit" href="{% url 'personality-update' employee.id %}">Личность</a>
                <a class="btn btn-outline-info mt-1 mb-1 ml-2" type="submit" href="{% url 'appearance-update' employee.id %}">Внешний облик</a>
                <a class="btn btn-outline-info mt-1 mb-1 ml-2" type="submit" href="{% url 'educations-update' employee.id %}">Образование</a>
                <a class="btn btn-outline-info mt-1 mb-1 ml-2" type="submit" href="{% url 'experiences-update' employee.id %}">Опыт работы</a>
                <a class="btn btn-outline-info mt-1 mb-1 ml-2" type="submit" href="{% url 'languages-update' employee.id %}">Иностранные языки</a>
                {% if object.position != None %}
                    <a class="btn btn-outline-info mt-1 mb-1 ml-2" type="submit" href="{% url 'tasks-update' employee.id %}">Задачи</a>
                    <a class="btn btn-outline-info mt-1 mb-1 ml-2" type="submit" href="{% url 'generate-pdf' pk=employee.id %}">PDF отчет</a>
                {% endif %}
                <a class="btn btn-outline-danger mt-1 mb-1 ml-2" href="{% url 'employee-delete' employee.id %}">Удалить</a>
            </form>
        </div>
    </div>
    </article>
{% endblock content %}
